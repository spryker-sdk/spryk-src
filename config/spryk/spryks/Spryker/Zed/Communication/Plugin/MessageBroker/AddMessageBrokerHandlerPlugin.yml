spryk: template
description: 'Adds a new *module* *message*HandlerPlugin class.'
mode: both
arguments:
    module:
        inherit: true
    organization:
        inherit: true
        default: Spryker
    application:
        inherit: true
        default: Zed
    messageName:
        inherit: true
    className:
        value: '{{ module }}{{ messageName }}MessageHandlerPlugin'
    implements:
        inherit: true
        value: Spryker/Zed/MessageBrokerExtension/Dependency/Plugin/MessageHandlerPluginInterface
    extends:
        inherit: true
        value: Spryker/Zed/Kernel/Communication/AbstractPlugin
    subDirectory:
        inherit: true
        value: Communication/Plugin/MessageBroker
    template:
        value: Zed/Communication/Plugin/MessageBroker/MessageHandlerPluginClass.php.twig
    targetFilename:
        value: '{{ module }}{{ messageName }}MessageHandlerPlugin.php'
    targetPath:
        value: 'src/{{ organization }}/{{ application }}/{{ module }}/'
postSpryks:
    - AddZedBusinessMessageBrokerMessageHandlerMethod
    -
        AddZedDependencyFacadeBridgeMethod:
            arguments:
                dependentModule: MessageBroker
                methods:
                    - sendMessage
    -
        AddZedBusinessFacadeMethod:
            arguments:
                allowOverride: true
                facadeMethod: 'handle{{ messageName }}'
                input: '\Generated\Shared\Transfer\{{ messageName }}Transfer ${{ messageName | lcfirst }}Transfer'
                output: void
    -
        AddZedBusinessFacadeMethodTest:
            arguments:
                allowOverride: true
                facadeMethod: 'handle{{ messageName }}'
                output: void
