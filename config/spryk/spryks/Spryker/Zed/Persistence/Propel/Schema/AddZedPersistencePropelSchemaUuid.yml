spryk: wrapper
description: 'Adds a Persistence schema to *module*.schema.xml in the Zed application.'
mode: both
arguments:
    module:
        inherit: true
    organization:
        inherit: true
        default: Spryker
    domainEntity:
        inherit: true
    propertyName:
        inherit: true
    uuidBehaviorKeyColumnsParameter:
        inherit: true
postSpryks:
    -
        AddZedPersistencePropelSchemaUniqueKey:
            arguments:
                name: 'spy_{{ domainEntity | underscored }}'
                keyName: 'spy_{{ domainEntity | underscored }}-unique-{{ propertyName }}'
                columns:
                    - '{{ propertyName }}'
    -
        AddZedPersistencePropelSchemaBehavior:
            arguments:
                name: 'spy_{{ domainEntity | underscored }}'
                behaviorName: uuid
                parameterNames:
                    - key_columns
                parameterValues:
                    - '{{ uuidBehaviorKeyColumnsParameter }}'
